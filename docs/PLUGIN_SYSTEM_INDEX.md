# ETools æ’ä»¶ç³»ç»Ÿæ–‡æ¡£æ±‡æ€»

## ğŸ“š æ–‡æ¡£ç›®å½•

æœ¬æ–‡æ¡£æ±‡æ€»äº† ETools æ’ä»¶ç³»ç»Ÿçš„æ‰€æœ‰ç›¸å…³æ–‡æ¡£ã€‚

### æ ¸å¿ƒæ–‡æ¡£

1. **[æ’ä»¶ç®¡ç†ç³»ç»Ÿ](./docs/plugin-management.md)** â­
   - æ’ä»¶ç³»ç»Ÿå®Œæ•´ä½¿ç”¨æŒ‡å—
   - NPM å‘½ä»¤å’Œ API è¯´æ˜
   - å‰ç«¯å’Œåç«¯å®ç°ç»†èŠ‚
   - å®‰å…¨å’Œæ€§èƒ½ä¼˜åŒ–

2. **[ç³»ç»Ÿæ¶æ„](./docs/NPM_ARCHITECTURE.md)** ğŸ—ï¸
   - å®Œæ•´çš„ç³»ç»Ÿæ¶æ„å›¾
   - å·¥ä½œæµç¨‹è¯¦è§£ï¼ˆå®‰è£…/æ›´æ–°/å¸è½½ï¼‰
   - ç»„ä»¶äº¤äº’å…³ç³»
   - æ•°æ®æµå‘è¯´æ˜

3. **[NPM æ’ä»¶è§„èŒƒ](./docs/NPM_PLUGIN_SPEC.md)** ğŸ“¦
   - æ’ä»¶åŒ…ç»“æ„è§„èŒƒ
   - package.json é…ç½®è¦æ±‚
   - etools å…ƒæ•°æ®å­—æ®µ
   - æƒé™å’Œåˆ†ç±»å®šä¹‰

4. **[å¼€å‘æŒ‡å—](./docs/NPM_PLUGIN_DEV_GUIDE.md)** ğŸ› ï¸
   - å¼€å‘ç¯å¢ƒæ­å»º
   - æ’ä»¶å¼€å‘æ­¥éª¤
   - æ„å»ºå’Œå‘å¸ƒæµç¨‹
   - åœ¨ ETools ä¸­æµ‹è¯•æ’ä»¶

5. **[è¿ç§»æŒ‡å—](./docs/NPM_MIGRATION_GUIDE.md)** ğŸš€
   - ä»è‡ªå®šä¹‰å¸‚åœºè¿ç§»åˆ° NPM
   - è¿ç§»å®Œæˆæ¸…å•
   - æˆæœ¬å¯¹æ¯”åˆ†æ
   - ä½¿ç”¨è¯´æ˜

---

## ğŸ¯ å¿«é€Ÿå¯¼èˆª

### æˆ‘æƒ³...

#### äº†è§£æ’ä»¶ç³»ç»Ÿå¦‚ä½•å·¥ä½œ
â†’ é˜…è¯» **[ç³»ç»Ÿæ¶æ„](./docs/NPM_ARCHITECTURE.md)**
- äº†è§£ NPM Registry å¦‚ä½•é›†æˆ
- ç†è§£å®‰è£…ã€æ›´æ–°ã€å¸è½½æµç¨‹
- æŸ¥çœ‹å®Œæ•´çš„æ¶æ„å›¾

#### ä½¿ç”¨æ’ä»¶ç®¡ç†åŠŸèƒ½
â†’ é˜…è¯» **[æ’ä»¶ç®¡ç†ç³»ç»Ÿ](./docs/plugin-management.md)**
- äº†è§£å¦‚ä½•å®‰è£…æ’ä»¶
- å­¦ä¹ å¦‚ä½•ç®¡ç†å·²å®‰è£…æ’ä»¶
- æŒæ¡æ‰¹é‡æ“ä½œæŠ€å·§
- ç†è§£æƒé™ç³»ç»Ÿ

#### å¼€å‘è‡ªå·±çš„æ’ä»¶
â†’ é˜…è¯» **[NPM æ’ä»¶è§„èŒƒ](./docs/NPM_PLUGIN_SPEC.md)**
â†’ é˜…è¯» **[å¼€å‘æŒ‡å—](./docs/NPM_PLUGIN_DEV_GUIDE.md)**
- å­¦ä¹ æ’ä»¶åŒ…ç»“æ„
- ç†è§£ package.json é…ç½®
- æŒæ¡æ’ä»¶ä»£ç è§„èŒƒ
- å­¦ä¹ å¦‚ä½•å‘å¸ƒåˆ° npm

#### è¿ç§»æ—§æ’ä»¶
â†’ é˜…è¯» **[è¿ç§»æŒ‡å—](./docs/NPM_MIGRATION_GUIDE.md)**
- äº†è§£è¿ç§»åŸå› å’Œä¼˜åŠ¿
- å­¦ä¹ è¿ç§»æ­¥éª¤
- æŸ¥çœ‹æˆæœ¬å¯¹æ¯”

---

## ğŸ”‘ æ ¸å¿ƒæ¦‚å¿µ

### NPM æ’ä»¶ç³»ç»Ÿ

ETools ä½¿ç”¨æ ‡å‡†çš„ npm ç”Ÿæ€ç³»ç»Ÿæ¥åˆ†å‘å’Œç®¡ç†æ’ä»¶ã€‚

**å…³é”®ç‰¹æ€§**ï¼š
- âœ… åŸºäº npm Registry
- âœ… æ ‡å‡†çš„ npm åŒ…
- âœ… ä½¿ç”¨ `@etools-plugin` å‘½åç©ºé—´
- âœ… è¯­ä¹‰åŒ–ç‰ˆæœ¬ç®¡ç†
- âœ… è‡ªåŠ¨ä¾èµ–å¤„ç†

### æ’ä»¶åŒ…å

æ‰€æœ‰æ’ä»¶åŒ…åå¿…é¡»éµå¾ªä»¥ä¸‹æ ¼å¼ï¼š

```
@etools-plugin/<plugin-name>
```

ç¤ºä¾‹ï¼š
- `@etools-plugin/devtools` - å¼€å‘å·¥å…·
- `@etools-plugin/hello` - Hello World ç¤ºä¾‹
- `@etools-plugin/json-formatter` - JSON æ ¼å¼åŒ–

### package.json etools å­—æ®µ

åœ¨ npm åŒ…çš„ `package.json` ä¸­å®šä¹‰ ETools ç‰¹å®šå­—æ®µï¼š

```json
{
  "name": "@etools-plugin/hello",
  "etools": {
    "id": "hello",
    "title": "Hello Plugin",
    "description": "A greeting plugin",
    "icon": "./assets/icon.png",
    "triggers": ["hello:"],
    "permissions": [],
    "category": "productivity"
  }
}
```

---

## ğŸ“Š ç³»ç»Ÿå¯¹æ¯”

| ç‰¹æ€§ | è‡ªå»ºå¸‚åœº | NPM ç³»ç»Ÿ |
|------|----------|----------|
| **æœåŠ¡å™¨** | éœ€è¦å¤šå°æœåŠ¡å™¨ | é›¶æˆæœ¬ |
| **æ•°æ®åº“** | éœ€è¦ PostgreSQL | é›¶æˆæœ¬ |
| **CDN** | éœ€è¦ CloudFront | npm å…è´¹æä¾› |
| **å­˜å‚¨** | éœ€è¦ S3/OSS | npm å…è´¹æä¾› |
| **å¸¦å®½** | æŒ‰æµé‡ä»˜è´¹ | npm æ‰¿æ‹… |
| **ç»´æŠ¤** | éœ€è¦ DevOps | npm ç»´æŠ¤ |
| **åˆ†å‘** | å—é™ | å…¨çƒ CDN |
| **æœˆæˆæœ¬ä¼°ç®—** | **$50-500+** | **$0** |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ç°æœ‰æ’ä»¶

```bash
# æ–¹æ³• 1: åœ¨ ETools ä¸­å®‰è£…
1. æ‰“å¼€ ETools
2. è¿›å…¥è®¾ç½® â†’ æ’ä»¶å¸‚åœº
3. æœç´¢æˆ–æµè§ˆæ’ä»¶
4. ç‚¹å‡»"å®‰è£…"
```

### å¼€å‘æ–°æ’ä»¶

```bash
# 1. åˆ›å»ºæ’ä»¶ç›®å½•
mkdir -p npm-packages/@etools-plugin/my-plugin
cd npm-packages/@etools-plugin/my-plugin

# 2. åˆå§‹åŒ– npm åŒ…
npm init -y

# 3. æ·»åŠ ä¾èµ–
npm install --save-dev typescript vite @etools/sdk

# 4. ç¼–å†™æ’ä»¶ä»£ç 
# åˆ›å»º src/index.ts å’Œé…ç½® package.json

# 5. æ„å»ºå’Œå‘å¸ƒ
npm run build
npm publish --access public
```

### åœ¨ ETools ä¸­æµ‹è¯•

```bash
# ä½¿ç”¨æœ¬åœ°åŒ…æµ‹è¯•
cd /path/to/etools
npm install file:./npm-packages/@etools-plugin/my-plugin

# ç„¶ååœ¨ ETools ä¸­æµ‹è¯•
```

---

## ğŸ“– Tauri å‘½ä»¤å‚è€ƒ

### NPM å¸‚åœºå‘½ä»¤

| å‘½ä»¤ | å‚æ•° | è¿”å›å€¼ | æè¿° |
|--------|------|--------|------|
| `marketplace_list` | category?, page?, pageSize? | MarketplacePluginPage | è·å–æ’ä»¶åˆ—è¡¨ |
| `marketplace_search` | query, category?, page?, pageSize? | MarketplacePluginPage | æœç´¢æ’ä»¶ |
| `marketplace_install` | packageName | Plugin | å®‰è£…æ’ä»¶ |
| `marketplace_uninstall` | packageName | () | å¸è½½æ’ä»¶ |
| `marketplace_update` | packageName | Plugin | æ›´æ–°æ’ä»¶ |
| `marketplace_check_updates` | - | PluginUpdateInfo[] | æ£€æŸ¥æ›´æ–° |
| `marketplace_get_plugin` | packageName | MarketplacePlugin | è·å–æ’ä»¶è¯¦æƒ… |
| `get_installed_plugins` | - | Plugin[] | è·å–å·²å®‰è£…æ’ä»¶ |

### æ’ä»¶ç®¡ç†å‘½ä»¤

| å‘½ä»¤ | å‚æ•° | è¿”å›å€¼ | æè¿° |
|--------|------|--------|------|
| `plugin_enable` | pluginId | Plugin | å¯ç”¨æ’ä»¶ |
| `plugin_disable` | pluginId | Plugin | ç¦ç”¨æ’ä»¶ |
| `plugin_uninstall` | pluginId | () | å¸è½½æ’ä»¶ |
| `bulk_enable_plugins` | pluginIds[] | BulkOperation | æ‰¹é‡å¯ç”¨ |
| `bulk_disable_plugins` | pluginIds[] | BulkOperation | æ‰¹é‡ç¦ç”¨ |
| `bulk_uninstall_plugins` | pluginIds[] | BulkOperation | æ‰¹é‡å¸è½½ |
| `get_plugin_health` | pluginId | PluginHealth | è·å–å¥åº·çŠ¶æ€ |
| `check_plugin_health` | pluginId | PluginHealth | æ£€æŸ¥å¥åº· |
| `get_plugin_usage_stats` | pluginId | PluginUsageStats | è·å–ä½¿ç”¨ç»Ÿè®¡ |

---

## ğŸ” æƒé™ç³»ç»Ÿ

### å¯ç”¨æƒé™

| æƒé™ | æè¿° | Tauri å‘½ä»¤ |
|--------|------|-------------|
| `read_clipboard` | è¯»å–å‰ªè´´æ¿ | `get_clipboard_history` |
| `write_clipboard` | å†™å…¥å‰ªè´´æ¿ | `paste_clipboard_item` |
| `read_files` | è¯»å–æ–‡ä»¶ | `read_file` |
| `write_files` | å†™å…¥æ–‡ä»¶ | `write_file` |
| `network` | ç½‘ç»œè®¿é—® | `fetch` |
| `shell` | Shell å‘½ä»¤ | `execute_shell` |
| `notifications` | ç³»ç»Ÿé€šçŸ¥ | `send_notification` |

### æƒé™è¯·æ±‚

æ’ä»¶éœ€è¦åœ¨ `package.json` çš„ `etools.permissions` å­—æ®µä¸­å£°æ˜æ‰€éœ€çš„æƒé™ï¼š

```json
{
  "etools": {
    "permissions": ["read_clipboard", "write_files"]
  }
}
```

ç”¨æˆ·é¦–æ¬¡ä½¿ç”¨éœ€è¦æƒé™çš„æ’ä»¶æ—¶ï¼ŒETools ä¼šæç¤ºç”¨æˆ·æˆæƒã€‚

---

## ğŸ›¡ï¸ å®‰å…¨æœ€ä½³å®è·µ

### 1. æœ€å°æƒé™åŸåˆ™

åªç”³è¯·æ’ä»¶åŠŸèƒ½æ‰€éœ€çš„æƒé™ï¼Œä¸è¦è¿‡åº¦ç”³è¯·ã€‚

**é”™è¯¯ç¤ºä¾‹**ï¼š
```json
{
  "etools": {
    "permissions": ["shell", "network", "read_clipboard", "write_files"]
    // ä¸€ä¸ªç®€å•çš„æ ¼å¼åŒ–æ’ä»¶ä¸åº”è¯¥éœ€è¦ shell æƒé™ï¼
  }
}
```

**æ­£ç¡®ç¤ºä¾‹**ï¼š
```json
{
  "etools": {
    "permissions": ["network"]  // åªç”³è¯·ç½‘ç»œæƒé™
  }
}
```

### 2. ç‰ˆæœ¬ç®¡ç†

éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemverï¼‰ï¼š

- `1.0.0` â†’ `1.0.1` - Bug ä¿®å¤
- `1.0.0` â†’ `1.1.0` - æ–°åŠŸèƒ½ï¼Œå‘åå…¼å®¹
- `1.0.0` â†’ `2.0.0` - ç ´åæ€§å˜æ›´

### 3. é”™è¯¯å¤„ç†

å§‹ç»ˆæä¾›å‹å¥½çš„é”™è¯¯æ¶ˆæ¯å’Œæ¢å¤å»ºè®®ï¼š

```typescript
try {
  await operation();
} catch (error) {
  console.error('æ“ä½œå¤±è´¥:', error);
  // æä¾›æ¢å¤å»ºè®®
  showUserMessage('è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•');
}
```

---

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: æ’ä»¶å®‰è£…å¤±è´¥**
```
A: æ£€æŸ¥ï¼š
1. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
2. npm é…ç½®æ˜¯å¦æ­£ç¡®ï¼ˆnpm config listï¼‰
3. package.json æ˜¯å¦åŒ…å«å¿…éœ€å­—æ®µ
4. æ’ä»¶åŒ…åæ˜¯å¦ä»¥ @etools-plugin/ å¼€å¤´
```

**Q: æ’ä»¶æ›´æ–°åä¸ç”Ÿæ•ˆ**
```
A: æ£€æŸ¥ï¼š
1. æ˜¯å¦éœ€è¦é‡å¯ ETools
2. node_modules ä¸­çš„æ’ä»¶æ˜¯å¦å·²æ›´æ–°
3. æ’ä»¶æ˜¯å¦å·²å¯ç”¨
4. æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯æ—¥å¿—
```

**Q: æ’ä»¶æœç´¢ç»“æœä¸ºç©º**
```
A: æ£€æŸ¥ï¼š
1. npm Registry æ˜¯å¦å¯è®¿é—®
2. æ’ä»¶æ˜¯å¦æ­£ç¡®æ·»åŠ äº† etools-plugin å…³é”®è¯
3. ç½‘ç»œä»£ç†è®¾ç½®æ˜¯å¦æ­£ç¡®
```

---

## ğŸ“ è´¡çŒ®æŒ‡å—

### æäº¤æ’ä»¶

1. Fork ETools ä»“åº“
2. åˆ›å»ºæ’ä»¶åˆ†æ”¯
3. åœ¨ `npm-packages/` ä¸‹å¼€å‘æ’ä»¶
4. æäº¤æ’ä»¶ä»£ç 
5. åˆ›å»º Pull Request

### æŠ¥å‘Šé—®é¢˜

1. åœ¨ GitHub Issues ä¸­æœç´¢ç›¸å…³é—®é¢˜
2. å¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–° Issue
3. æä¾›è¯¦ç»†çš„é”™è¯¯æè¿°å’Œå¤ç°æ­¥éª¤
4. åŒ…å«æ—¥å¿—å’Œæˆªå›¾

---

## ğŸ“ ç›¸å…³é“¾æ¥

### å®˜æ–¹èµ„æº

- **é¡¹ç›®ä»“åº“**: https://github.com/your-org/etools
- **npm ç»„ç»‡**: https://www.npmjs.com/org/etools-plugin
- **ç¤ºä¾‹æ’ä»¶**: https://github.com/etools-plugins

### æ–‡æ¡£

- **æ’ä»¶ç®¡ç†**: [docs/plugin-management.md](./docs/plugin-management.md)
- **ç³»ç»Ÿæ¶æ„**: [docs/NPM_ARCHITECTURE.md](./docs/NPM_ARCHITECTURE.md)
- **æ’ä»¶è§„èŒƒ**: [docs/NPM_PLUGIN_SPEC.md](./docs/NPM_PLUGIN_SPEC.md)
- **å¼€å‘æŒ‡å—**: [docs/NPM_PLUGIN_DEV_GUIDE.md](./docs/NPM_PLUGIN_DEV_GUIDE.md)
- **è¿ç§»æŒ‡å—**: [docs/NPM_MIGRATION_GUIDE.md](./docs/NPM_MIGRATION_GUIDE.md)

---

## ğŸ“Š ç‰ˆæœ¬ä¿¡æ¯

- **å½“å‰ç‰ˆæœ¬**: 2.0.0
- **æ›´æ–°æ—¥æœŸ**: 2025-01-15
- **å˜æ›´**: ç»Ÿä¸€åˆ° NPM åˆ†å‘ç³»ç»Ÿï¼Œåˆ é™¤æ—§çš„è‡ªå®šä¹‰å¸‚åœºä»£ç 

---

## ğŸ‰ æ€»ç»“

ETools æ’ä»¶ç³»ç»Ÿç°åœ¨å®Œå…¨åŸºäºæ ‡å‡†çš„ npm ç”Ÿæ€ç³»ç»Ÿï¼š

- âœ… **é›¶æˆæœ¬** - æ— éœ€æœåŠ¡å™¨å’ŒåŸºç¡€è®¾æ–½
- âœ… **é›¶ç»´æŠ¤** - npm å¤„ç†æ‰€æœ‰åˆ†å‘
- âœ… **å…¨çƒåˆ†å‘** - npm å…¨çƒ CDN åŠ é€Ÿ
- âœ… **æ ‡å‡†æµç¨‹** - å¼€å‘è€…ç†Ÿæ‚‰çš„ npm å·¥ä½œæµ
- âœ… **ç‰ˆæœ¬ç®¡ç†** - npm è¯­ä¹‰åŒ–ç‰ˆæœ¬ç®¡ç†
- âœ… **ä¾èµ–ç®¡ç†** - npm è‡ªåŠ¨å¤„ç†æ’ä»¶ä¾èµ–

**ä»ç°åœ¨å¼€å§‹ï¼Œæ‰€æœ‰ ETools æ’ä»¶éƒ½æ˜¯æ ‡å‡†çš„ npm åŒ…ï¼** ğŸš€

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0
**æœ€åæ›´æ–°**: 2025-01-15
**ç»´æŠ¤è€…**: ETools Team
